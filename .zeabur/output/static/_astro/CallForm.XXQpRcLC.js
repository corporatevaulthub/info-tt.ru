import{j as e}from"./jsx-runtime.CQV9K4Rz.js";import{u as h,I as j,e as N,_ as t}from"./input.Dub6WWNN.js";import{r as l}from"./index.CsdIBAqE.js";const _=()=>{const[i,a]=l.useState(!1),d=l.useRef(),n=l.useRef(null),{register:s,handleSubmit:c,reset:u,formState:{errors:b,isSubmitting:v}}=h(),m=r=>{const o=n.current.value;N.sendForm("service_fp0qp2n","template_calculation",d.current,"76c3fFMb82LKBSmtA").then(x=>{const p={FIELDS:{TITLE:"Новый лид с формы (Расчет)",NAME:r.name,LAST_NAME:r.last_name,PHONE:[{VALUE:o,VALUE_TYPE:"WORK"}],EMAIL:[{VALUE:r.email,VALUE_TYPE:"WORK"}],COMMENTS:`
              Требуется: ${r.required_for},
              Пункт отправки: ${r.shipping_point},
              Пункт доставки: ${r.delivery_point},
              Наименование товара: ${r.product_name},
              Вес: ${r.weight},
              Объем, м3: ${r.scope}
            `}};fetch("https://infott.bitrix24.ru/rest/31/33nrxzpn0pft3vv4/crm.lead.add.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}).then(f=>{f.ok?(a(!1),t.success("Письмо успешно отправлено!",{duration:3e3,position:"bottom-center"}),u()):t.error("Упс, что-то пошло не так( Попробуйте ещё раз",{duration:3e3,position:"bottom-center"})})},x=>{t.error("Упс, что-то пошло не так( Попробуйте ещё раз",{duration:3e3,position:"bottom-center"})}),a(!0)};return e.jsxs("form",{ref:d,onSubmit:c(m),className:"relative z-10",children:[e.jsxs("div",{className:"mb-5 flex flex-col items-end gap-5 md:mb-10 md:flex-row",children:[e.jsxs("div",{className:"relative z-20 w-full max-w-[750px]",children:[e.jsxs("div",{className:"mb-6 flex flex-col gap-5 md:flex-row md:gap-[50px]",children:[e.jsxs("div",{className:"w-full max-w-[325px]",children:[e.jsx("h3",{className:"mb-5 font-bold text-dark",children:"Требуется"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"delivery",required:!0,value:"Доставка товара",...s("required_for",{required:!0}),className:"focus:ring-0"}),e.jsx("label",{htmlFor:"delivery",className:"font-medium",children:"Доставка товара"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"registration",required:!0,value:"Таможенное оформление",...s("required_for",{required:!0}),className:"focus:ring-0"}),e.jsx("label",{htmlFor:"registration",className:"font-medium",children:"Таможенное оформление"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"del_and_reg",required:!0,value:"Доставка и таможенное оформление",...s("required_for",{required:!0}),className:"focus:ring-0"}),e.jsx("label",{htmlFor:"del_and_reg",className:"font-medium",children:"Доставка и таможенное оформление"})]})]})]}),e.jsxs("fieldset",{className:"w-full",children:[e.jsxs("div",{className:"mb-5",children:[e.jsx("h3",{className:"mb-2 font-bold text-dark",children:"Пункт отправки"}),e.jsx("input",{required:!0,type:"text",...s("shipping_point",{required:!0}),placeholder:"Страна, Город",className:"input w-full"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 font-bold text-dark",children:"Пункт доставки"}),e.jsx("input",{required:!0,type:"text",...s("delivery_point",{required:!0}),placeholder:"Страна, Город",className:"input w-full"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-5 md:flex-row",children:[e.jsxs("fieldset",{className:"w-full",children:[e.jsxs("div",{className:"mb-5 w-full",children:[e.jsx("h3",{className:"mb-2 font-bold text-dark",children:"Имя"}),e.jsx("input",{required:!0,type:"text",...s("name",{required:!0}),className:"input w-full"})]}),e.jsxs("div",{className:"mb-5 w-full",children:[e.jsx("h3",{className:"mb-2 font-bold text-dark",children:"Телефон"}),e.jsx(j,{className:"input w-full",mask:"+{7}(000)000-00-00",name:"phone",required:!0,unmask:!0,placeholder:"Телефон",inputRef:n})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("h3",{className:"mb-2 font-bold text-dark",children:"Email"}),e.jsx("input",{type:"email",required:!0,...s("email",{required:!0}),className:"input w-full"})]})]}),e.jsxs("fieldset",{className:"w-full",children:[e.jsxs("div",{className:"mb-5",children:[e.jsx("h3",{className:"mb-2 font-bold text-dark",children:"Наименование товара"}),e.jsx("input",{type:"text",required:!0,...s("product_name",{required:!0}),className:"input w-full"})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("h3",{className:"mb-2 font-bold text-dark",children:"Вес"}),e.jsx("input",{type:"text",...s("weight",{required:!0}),className:"input w-full"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 font-bold text-dark",children:"Объем, м3"}),e.jsx("input",{type:"text",required:!0,...s("scope",{required:!0}),className:"input w-full"})]})]})]})]}),e.jsx("button",{className:"button w-full justify-center bg-[#E53737] py-2 disabled:pointer-events-none disabled:bg-dark md:w-auto",disabled:i,children:i?"Отправка..":"Отправить"})]}),e.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-[#2E3037]",children:[e.jsx("input",{type:"checkbox",required:!0,name:"yes_i_understand",className:"form-checkbox rounded border-[#D5DAE3] text-primary  focus:ring-0"}),e.jsx("span",{className:"text-[12px] font-semibold sm:text-sm",children:"Я согласен с политикой конфиденциальности сайта"})]})]})};export{_ as default};
